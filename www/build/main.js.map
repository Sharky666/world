{"version":3,"sources":["../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/home/home.ts","../../src/app/game.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/components/world/world.ts","../../src/app/raceFactory.ts","../../src/app/race.ts","../../src/app/creature.ts","../../src/app/entity.ts","../../src/app/collisionDetector.ts","../../src/app/eventEmitter.ts","../../src/app/baseEntityCollisionHandler.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 108;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 108\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 149;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 149\n// module chunks = 0","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n\n  constructor(public navCtrl: NavController) {\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Race } from \"./race\";\nimport { Creature } from \"./creature\";\nimport { RaceFactory } from \"./raceFactory\";\nimport { CollisionDetector } from \"./collisionDetector\";\nimport { BaseEntityCollisionHandler } from \"./baseEntityCollisionHandler\";\n\nexport class Game {\n  collisionDetector:CollisionDetector = new CollisionDetector(BaseEntityCollisionHandler);\n  canvas = null;\n  ctx = null;\n  races: Race[] = [];\n  creatures: Creature[] = [];\n\n  constructor() {\n      this.createCanvas();\n      this.races = RaceFactory.generateRaces(3)\n        .map(race => {\n          this.creatures = this.creatures.concat(race.generateCreatures(5));\n          return race;\n        });\n      setInterval(() => {\n          this.loop();\n      }, 1000);\n  }\n\n  private loop() {\n    this.collisionDetector.detectCollisions(this.creatures);\n    this.render();\n  }\n\n  render() {\n    this.clearCanvas();\n    this.creatures.forEach((e) => {\n      this.ctx.fillStyle = e.color;\n      e.step();\n      this.ctx.fillRect(e.locationX, e.locationY, e.width, e.height);\n    });\n  };\n\n  createCanvas() {\n    this.canvas = document.createElement(\"canvas\");\n    this.ctx = this.canvas.getContext('2d');\n    this.canvas.height = window.innerHeight;\n    this.canvas.width = window.innerWidth;\n  }\n\n  clearCanvas() {\n    this.ctx.fillStyle = \"#f7faff\";\n    this.ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/game.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\n\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\nimport { WorldComponent } from '../components/world/world';\nimport { Game } from './game';\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage,\n    WorldComponent\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp)\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage,\n    WorldComponent\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    Game,\n    {provide: ErrorHandler, useClass: IonicErrorHandler}\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { HomePage } from '../pages/home/home';\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = HomePage;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Component } from '@angular/core';\nimport { Game } from '../../../src/app/game';\n\n@Component({\n  selector: 'world',\n  templateUrl: 'world.html'\n})\n\nexport class WorldComponent{\n  constructor(private game:Game){\n    setInterval(()=>{\n      document.body.appendChild(game.canvas); //Temporary until I know how to append it to the actualy fucking component.\n    }, 500);\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/world/world.ts","import {Race} from \"./race\";\n\nexport abstract class RaceFactory {\n  public static generateRaces(raceNum):Race[] {\n    let races = [];\n    for(let i = 0; i < raceNum; i++){\n      races.push(new Race());\n    }\n    return races;\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/raceFactory.ts","import {Creature} from \"./creature\";\n\nexport class Race{\n    color = null //Generate a random color, and then base the color of the creatures from this race on it.\n    maxStep = Math.floor(Math.random() * 25) + 1; //Each race have maximum blocks they can move each step.\n\n    constructor() {\n      this.color = this.convertRgbToHex(this.generateRgb());\n    };\n\n    generateCreatures(n): Creature[] {\n        let creatures:Creature[] = [];\n        for (let i = 0; i < n; i++) {\n            creatures.push(new Creature(this.maxStep, this));\n        }\n        return creatures;\n    }\n\n    private convertRgbToHex(rgb:number[]){\n      let finalHex = '#';\n      rgb.forEach((c) => {\n        const hex = c.toString(16);\n        finalHex += finalHex + hex.length === '1' ? '0' + hex : hex;\n      });\n      return finalHex;\n    }\n    private generateRgb() {\n      const r = Math.floor(Math.random() * 256);\n      const g = Math.floor(Math.random() * 256);\n      const b = Math.floor(Math.random() * 256);\n      return [r, g, b];\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/race.ts","import {Race} from './race';\nimport {Entity} from './entity'\nimport { EntityCollisionEvent } from './events';\n\nexport class Creature extends Entity{\n  maxStep: number = null //Max blocks they can move each step.\n  isColliding: boolean = false; //'CollisionDetector' uses this variableBaseEntityCollisionHandler\n  race: Race = null;\n\n\n  constructor(maxStep, race){\n    super();\n    this.generateDetails();\n    this.color = race.color;\n    this.maxStep = maxStep;\n    this.race = race;\n    console.log(maxStep);\n  }\n\n  generateDetails(){\n    this.width = Math.floor(Math.random() * 90) + 1;\n    this.height = Math.floor(Math.random() * 90) + 1;\n    this.locationX = Math.floor(Math.random() * window.innerWidth);\n    this.locationY = Math.floor(Math.random() * window.innerHeight);\n  };\n\n  step(){\n    let i = Math.floor(Math.random() * 4) + 1; //Randomizing possibilities\n    switch(i){\n      case 1:\n        this.locationX += Math.floor(Math.random() * this.maxStep) + 1;\n      break;\n      case 2:\n        this.locationX -= Math.floor(Math.random() * this.maxStep) + 1;\n      break;\n      case 3:\n        this.locationY += Math.floor(Math.random() * this.maxStep) + 1;\n      break;\n      case 4:\n        this.locationY -= Math.floor(Math.random() * this.maxStep) + 1;\n      break;\n    }\n  }\n\n  /**\n * This function will be called when a collision occurs\n */\n  public onCollison(data: EntityCollisionEvent): void {\n    if(data.entities[1].race !== this.race){\n    }\n  // console.log(data.entities);\n  };\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/creature.ts","import { EntityCollisionEvent } from \"./events\";\nimport { Race } from \"./race\";\n\nexport class Entity{\n  width: number = null;\n  height: number = null;\n  locationX: number = null;\n  locationY: number = null;\n  color: string = null;\n  race?: Race\n\n  /**\n   * This function will be called when a collision occurs\n   */\n  public onCollison(data:EntityCollisionEvent): void {\n    // Override\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/entity.ts","import {Creature} from './creature'\nimport {EventEmitter} from './eventEmitter';\nimport { EntityCollisionEvent } from './events';\n\nexport class CollisionDetector extends EventEmitter{\n  constructor(private handler:(event: EntityCollisionEvent)=> void){\n    super();\n  }\n  //TODO: Emit the events to the 'creatures' and the 'game' or something like that~. :)\n  public detectCollisions(creatures:Creature[]) {\n    creatures.forEach(a => {\n      creatures.forEach(b => {\n        // if the loop is running on the same creature: return.\n        if (a === b) return;\n        if (b.locationX + b.width > a.locationX && a.locationX + a.width > b.locationX) {\n          //collision on the X axis\n          if (b.locationY + b.height > a.locationY && a.locationY + a.height > b.locationY) {\n            //collision on the Y axis\n            console.log(\"collison!\");\n            let eventData:EntityCollisionEvent = {\n              time: Date.now(),\n              fresh: false,\n              entities: [a, b]\n            }\n            if (!b.isColliding && !a.isColliding) {\n              //Fresh collision!\n              eventData.fresh = true;\n            }\n            this.handler(eventData);\n            this.emit('collision', eventData);\n            a.onCollison(eventData);\n            b.onCollison(eventData);\n            b.isColliding = true;\n            a.isColliding = true;\n          }\n          else {\n            b.isColliding = false;\n            a.isColliding = false;\n          }\n        }\n      });\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/collisionDetector.ts","import { EntityCollisionEvent } from \"./events\";\n\nexport class EventEmitter{\n  private listeners = {};\n\n  public emit(event:string, data:EntityCollisionEvent):void {\n    //if nobody is listening to the event, return. (because you can't `for each` on something that doesn't exist)\n    if(!this.listeners[event]) return;\n    this.listeners[event].forEach(callback => {\n      callback(data);\n    });\n  }\n\n  public addEventListener(event:string, callback:() => void):void {\n    if(!this.listeners[event]){\n      //If the event doesn't exist, create a new one.\n      this.listeners[event] = [];\n    }\n    //Push the callback to the given event.\n    this.listeners[event].push(callback);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/eventEmitter.ts","import {Creature} from './creature';\nimport { EntityCollisionEvent } from './events';\n\nexport function BaseEntityCollisionHandler(event: EntityCollisionEvent){\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/baseEntityCollisionHandler.ts"],"sourceRoot":""}